<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Cart</title>
      <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
      <style>
      </style>
      <link href="styles.css" rel="stylesheet">
   </head>
   <body>
      <nav class="navbar navbar-expand-lg navbar-dark">
         <a class="navbar-brand" href="#">E-Commerce</a>
         <div class="collapse navbar-collapse">
            <ul class="navbar-nav ml-auto">
               <li class="nav-item">
                  <a class="nav-link" href="index.html">Product Listing</a>
               </li>
               <li class="nav-item active">
                  <a class="nav-link" href="cart.html">Cart (<span id="cart-count">0</span>)</a>
               </li>
            </ul>
         </div>
      </nav>
      <div class="container mt-4">
         <h3>Your Cart</h3>
         <div id="cart-items"></div>
         <div id="cart-total">
            <h4>Total: Rs.<span id="total-price">0.00</span></h4>
         </div>
         <button id="checkout-btn" class="btn " style="background-color: #000; color: #fff;">Proceed to Checkout</button>
      </div>
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
      <script >
         document.addEventListener("DOMContentLoaded", function () {
         let cart = JSON.parse(localStorage.getItem("cart")) || [];
         
         const cartCount = document.getElementById("cart-count");
         const cartItems = document.getElementById("cart-items");
         const totalPrice = document.getElementById("total-price");
         updateCart();
         
         function updateCart() {
         cartCount.textContent = cart.length;
         cartItems.innerHTML = ''; 
         let total = 0;
         
         cart.forEach(item => {
           const cartItemDiv = document.createElement("div");
           cartItemDiv.classList.add("cart-item");
           cartItemDiv.innerHTML = `
             <img src="${item.image}" alt="${item.title}">
             <div class="cart-item-details">
               <h6>${item.title}</h6>
               <p>$${item.price}</p>
             </div>
             <button class="btn-remove" data-id="${item.id}">Remove</button>
           `;
           
           cartItemDiv.querySelector(".btn-remove").addEventListener("click", function () {
             removeFromCart(item.id);
           });
           
           cartItems.appendChild(cartItemDiv);
           total += item.price;
         });
         
         totalPrice.textContent = total.toFixed(2);
         }
         function removeFromCart(productId) {
         cart = cart.filter(item => item.id !== productId);
         localStorage.setItem("cart", JSON.stringify(cart));
         updateCart();
         }
         document.getElementById("checkout-btn").addEventListener("click", function () {
         alert("Proceeding to checkout...");
         });
         });
         
      </script>
   </body>
</html>